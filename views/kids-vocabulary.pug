extends layout

block content
  .container-fluid.px-2.px-md-3.mt-2.mt-md-4
    .row.g-2.g-md-3.justify-content-center
      .col-12.col-lg-8.order-2.order-lg-1
        // ä¸»è¦å€åŸŸ
        .card.border-success.shadow.h-100
          .card-header.bg-success.text-white.text-center.py-2.py-md-3
            h3.mb-0.fs-4.fs-md-3
              | ðŸŒŸ å°å­¸ç”Ÿè‹±æ–‡å­¸ç¿’åœ–ç‰‡ç”Ÿæˆå™¨ ðŸŒŸ
            p.mb-0.small.d-none.d-sm-block è¼¸å…¥è‹±æ–‡å–®å­—æˆ–å¥å­ï¼ŒAI å¹«ä½ ç•«åœ–ç‰‡ï¼
          
          .card-body.p-2.p-md-4
            // æ­¡è¿Žè¨Šæ¯
            .alert.alert-success.text-center.mb-3.mb-md-4#welcomeMessage
              h5.fs-5.fs-md-4
                | ðŸ‘‹ æ­¡è¿Žå°æœ‹å‹ï¼
              p.mb-2.small.mb-md-2 è¼¸å…¥è‹±æ–‡å–®å­—æˆ–å¥å­ï¼Œæˆ‘æœƒå¹«ä½ ç•«ä¸€å¼µå¯æ„›çš„åœ–ç‰‡ä¾†å­¸ç¿’ï¼
              p.mb-0.small.text-muted âœ¨ å®Œå…¨å…è²»ä½¿ç”¨ï¼Œç„¡éœ€è¨»å†Šç™»å…¥
            
            // ç°¡å–®è¼¸å…¥è¡¨å–®
            form#simpleVocabForm
              .mb-3.mb-md-4
                label.form-label.h6.h5-md(for="wordInput") 
                  | ðŸ”¤ è«‹è¼¸å…¥è‹±æ–‡å–®å­—æˆ–å¥å­ï¼š
                .input-group.input-group-lg
                  input#wordInput.form-control.form-control-lg(
                    type="text" 
                    placeholder="ä¾‹å¦‚ï¼šapple, I am happy..."
                    required
                  )
                  button#generateBtn.btn.btn-success.btn-lg.px-2.px-md-3(type="submit")
                    i.fas.fa-magic.d-none.d-sm-inline
                    span.d-sm-none ðŸŽ¨
                    span.d-none.d-sm-inline  ç”Ÿæˆåœ–ç‰‡ï¼
                    span.d-sm-none ç”Ÿæˆ
                .form-text.mt-2.small
                  .d-block.d-md-none
                    | ðŸ’¡ apple, dog, smile
                    br
                    | ðŸ’¬ I am happy
                  .d-none.d-md-block
                    | ðŸ’¡ å–®å­—ï¼šapple, dog, smile, house, book
                    br
                    | ðŸ’¬ å¥å­ï¼šI am happy, good morning, I like cats
              
              // ç™¼éŸ³åŠŸèƒ½è¨­å®š
              .row.mt-3.g-2.g-md-3
                .col-12.col-sm-6.col-lg-4
                  .form-check.form-switch
                    input#pronunciationToggle.form-check-input(type="checkbox" checked)
                    label.form-check-label.small(for="pronunciationToggle")
                      | ðŸ”Š è‡ªå‹•ç™¼éŸ³
                      small.text-muted.d-block.d-lg-none åœ–ç‰‡å¾Œè‡ªå‹•æ’­æ”¾
                      small.text-muted.d-none.d-lg-block ç”Ÿæˆåœ–ç‰‡å¾Œè‡ªå‹•æ’­æ”¾å–®å­—ç™¼éŸ³
                
                .col-12.col-sm-6.col-lg-4
                  .form-check.form-switch
                    input#practiceToggle.form-check-input(type="checkbox")
                    label.form-check-label.small(for="practiceToggle")
                      | ðŸŽ¤ ç·´ç¿’ç™¼éŸ³
                      small.text-muted.d-block.d-lg-none èªžéŸ³è­˜åˆ¥ç·´ç¿’
                      small.text-muted.d-none.d-lg-block é–‹å•ŸèªžéŸ³è­˜åˆ¥ç·´ç¿’åŠŸèƒ½
                
                .col-12.col-lg-4
                  label.form-label.small(for="speechSpeedSlider")
                    | ðŸŽµ æ’­æ”¾é€Ÿåº¦
                    span#speedValue.text-muted.ms-1 (æ­£å¸¸)
                  input#speechSpeedSlider.form-range(
                    type="range" 
                    min="0.5" 
                    max="2.0" 
                    step="0.1" 
                    value="0.8"
                  )
                  .d-flex.justify-content-between.small.text-muted
                    span æ…¢
                    span å¿«
              
              // éš±è—çš„é€²éšŽé¸é …ï¼ˆé è¨­ç‚ºå°å­¸ç”Ÿå‹å–„è¨­ç½®ï¼‰
              input#providerSelect(type="hidden" value="pollinations")
              input#styleSelect(type="hidden" value="cartoon")
              input#levelSelect(type="hidden" value="beginner")
              input#techniqueSelect(type="hidden" value="story")
              input#includeTextCheck(type="hidden" value="true")
            
            // ç”Ÿæˆç‹€æ…‹
            .mt-3.mt-md-4#generationStatus(style="display: none")
              .alert.alert-primary.text-center.py-2.py-md-3
                .spinner-border.spinner-border-sm.text-primary.me-2.me-md-3
                h6.h5-md.d-inline.mb-0
                  | ðŸŽ¨ æ­£åœ¨ç‚ºä½ ç•«åœ–ç‰‡...
                p.mb-0.small.d-none.d-sm-block è«‹ç¨ç­‰ 10-20 ç§’
            
            // éŒ¯èª¤è¨Šæ¯
            .mt-3#errorMessage(style="display: none")
              .alert.alert-warning.text-center.py-2
                i.fas.fa-exclamation-triangle.me-2
                span#errorText
      
      .col-12.col-lg-4.order-1.order-lg-2
        // çµæžœå€åŸŸ
        .card.border-primary.shadow.h-100
          .card-header.bg-primary.text-white.text-center.py-2.py-md-3
            h6.h5-md.mb-0
              | ðŸ–¼ï¸ ä½ çš„åœ–ç‰‡
          .card-body.text-center.p-2.p-md-3
            // åœ–ç‰‡é¡¯ç¤º
            .image-result#imageResult(style="display: none")
              .mb-2.mb-md-3
                img#generatedImage.img-fluid.rounded.shadow(style="max-width: 100%; border: 2px solid #28a745;")
              
              .word-info.bg-light.p-2.p-md-3.rounded.mb-2.mb-md-3
                h5.h4-md.text-success.mb-1#wordTitle å–®å­—
                p.text-muted.mb-2.small#wordMeaning æ„æ€
                
                // ç™¼éŸ³æŽ§åˆ¶æŒ‰éˆ•
                .pronunciation-controls.mt-2
                  .row.g-1.g-md-2
                    .col-6
                      button#pronounceBtn.btn.btn-primary.btn-sm.w-100.py-1.py-md-2(type="button")
                        i.fas.fa-volume-up.me-1.d-none.d-sm-inline
                        span.d-sm-none ðŸ”Š
                        span.d-none.d-sm-inline ç™¼éŸ³
                    .col-6
                      button#practiceBtn.btn.btn-warning.btn-sm.w-100.py-1.py-md-2(type="button" style="display: none")
                        i.fas.fa-microphone.me-1.d-none.d-sm-inline
                        span.d-sm-none ðŸŽ¤
                        span.d-none.d-sm-inline ç·´ç¿’
                
                // ç·´ç¿’ç™¼éŸ³çµæžœ
                .practice-result.mt-2#practiceResult(style="display: none")
                  .alert.alert-info.small.mb-0.py-1.py-md-2
                    .d-flex.align-items-center
                      .spinner-border.spinner-border-sm.me-2#practiceSpinner(style="display: none")
                      span#practiceText.small é»žæ“Šéº¥å…‹é¢¨é–‹å§‹ç·´ç¿’ç™¼éŸ³...
              
              .mb-2.mb-md-3
                small.text-muted#aiProvider 
                  | ðŸ¤– ç”± AI ç”Ÿæˆ
              
              .d-grid
                a#downloadLink.btn.btn-outline-success.btn-sm(download="my-word-image.png")
                  i.fas.fa-download.me-1.me-md-2
                  span.d-none.d-sm-inline ä¸‹è¼‰åœ–ç‰‡
                  span.d-sm-none ä¸‹è¼‰
            
            // ä½”ä½ç¬¦
            .placeholder-content#placeholderContent
              .text-center.text-muted.py-3.py-md-5
                i.fas.fa-image.fa-2x.fa-md-4x.mb-2.mb-md-3.text-light
                h6.h5-md ä½ çš„åœ–ç‰‡æœƒå‡ºç¾åœ¨é€™è£¡
                p.small è¼¸å…¥å–®å­—å¾Œé»žæ“Šã€Œç”Ÿæˆåœ–ç‰‡ã€
        
        // æœ€è¿‘çš„å…§å®¹
        .card.mt-2.mt-md-3.border-info
          .card-header.bg-info.text-white.text-center.py-2
            h6.mb-0.small
              | ðŸ“š æœ€è¿‘å­¸éŽçš„å…§å®¹
          .card-body.p-2.p-md-3
            .small#recentWords
              p.text-muted.text-center.mb-0 é‚„æ²’æœ‰å­¸éŽçš„å…§å®¹

  // éŸ¿æ‡‰å¼æ¨£å¼
  style.
    body {
      background: linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%);
      min-height: 100vh;
    }
    
    .card {
      border-radius: 10px;
    }
    
    .card-header {
      border-radius: 10px 10px 0 0 !important;
    }
    
    #wordInput {
      border-radius: 20px;
      border: 2px solid #28a745;
      text-align: center;
      font-weight: bold;
      font-size: 16px;
    }
    
    #wordInput:focus {
      border-color: #20c997;
      box-shadow: 0 0 0 0.2rem rgba(40, 167, 69, 0.25);
    }
    
    #generateBtn {
      border-radius: 20px;
      font-weight: bold;
      min-width: 80px;
    }
    
    /* æ‰‹æ©Ÿç‰ˆæ¨£å¼ */
    @media (max-width: 575.98px) {
      .container-fluid {
        padding-left: 8px;
        padding-right: 8px;
      }
      
      .card {
        border-radius: 8px;
      }
      
      #wordInput {
        font-size: 14px;
        border-radius: 15px;
      }
      
      #generateBtn {
        border-radius: 15px;
        min-width: 60px;
        font-size: 14px;
      }
      
      .form-check-label {
        font-size: 14px;
      }
      
      .recent-word-item {
        padding: 6px;
        font-size: 13px;
      }
    }
    
    /* å¹³æ¿ç‰ˆæ¨£å¼ */
    @media (min-width: 576px) and (max-width: 991.98px) {
      .card {
        border-radius: 12px;
      }
      
      #wordInput {
        font-size: 17px;
      }
    }
    
    /* æ¡Œé¢ç‰ˆæ¨£å¼ */
    @media (min-width: 992px) {
      .card {
        border-radius: 15px;
      }
      
      #wordInput {
        font-size: 18px;
        border-radius: 25px;
        border-width: 3px;
      }
      
      #generateBtn {
        border-radius: 25px;
        min-width: 120px;
      }
    }
    
    #generatedImage {
      transition: transform 0.3s ease;
      max-height: 300px;
      object-fit: contain;
    }
    
    #generatedImage:hover {
      transform: scale(1.02);
    }
    
    .placeholder-content {
      border: 2px dashed #dee2e6;
      border-radius: 10px;
      background: linear-gradient(45deg, #f8f9fa 25%, transparent 25%), 
                  linear-gradient(-45deg, #f8f9fa 25%, transparent 25%), 
                  linear-gradient(45deg, transparent 75%, #f8f9fa 75%), 
                  linear-gradient(-45deg, transparent 75%, #f8f9fa 75%);
      background-size: 15px 15px;
      background-position: 0 0, 0 8px, 8px -8px, -8px 0px;
      min-height: 200px;
    }
    
    .word-info {
      border: 2px solid #28a745;
      border-radius: 8px;
    }
    
    .spinner-border {
      width: 1.5rem;
      height: 1.5rem;
    }
    
    .recent-word-item {
      background: #f8f9fa;
      border: 1px solid #dee2e6;
      border-radius: 6px;
      padding: 6px 8px;
      margin-bottom: 6px;
      cursor: pointer;
      transition: all 0.2s ease;
      font-size: 14px;
    }
    
    .recent-word-item:hover {
      background: #e9ecef;
      transform: translateY(-1px);
    }
    
    /* æ‰‹æ©Ÿç‰ˆåœ–ç‰‡æ¨£å¼ */
    @media (max-width: 575.98px) {
      #generatedImage {
        max-height: 250px;
        border-width: 1px !important;
      }
      
      .placeholder-content {
        border-width: 1px;
        min-height: 150px;
        background-size: 12px 12px;
      }
      
      .word-info {
        border-width: 1px;
      }
    }
    
    /* æ¡Œé¢ç‰ˆåœ–ç‰‡æ¨£å¼ */
    @media (min-width: 992px) {
      #generatedImage {
        max-height: 400px;
      }
      
      .placeholder-content {
        border-width: 3px;
        border-radius: 15px;
        background-size: 20px 20px;
        min-height: 300px;
      }
      
      .word-info {
        border-radius: 10px;
      }
      
      .recent-word-item {
        padding: 8px;
        border-radius: 8px;
        font-size: 15px;
      }
    }
    
    #speechSpeedSlider {
      background: linear-gradient(to right, #28a745 0%, #20c997 50%, #17a2b8 100%);
      height: 6px;
      border-radius: 3px;
      outline: none;
      opacity: 0.8;
      transition: opacity 0.2s;
    }
    
    #speechSpeedSlider:hover {
      opacity: 1;
    }
    
    #speechSpeedSlider::-webkit-slider-thumb {
      appearance: none;
      width: 18px;
      height: 18px;
      border-radius: 50%;
      background: #28a745;
      cursor: pointer;
      border: 2px solid white;
      box-shadow: 0 1px 3px rgba(0,0,0,0.2);
    }
    
    #speechSpeedSlider::-moz-range-thumb {
      width: 18px;
      height: 18px;
      border-radius: 50%;
      background: #28a745;
      cursor: pointer;
      border: 2px solid white;
      box-shadow: 0 1px 3px rgba(0,0,0,0.2);
    }
    
    /* æ‰‹æ©Ÿç‰ˆæ»‘æ¡¿æ¨£å¼ */
    @media (max-width: 575.98px) {
      #speechSpeedSlider {
        height: 8px;
      }
      
      #speechSpeedSlider::-webkit-slider-thumb {
        width: 20px;
        height: 20px;
      }
      
      #speechSpeedSlider::-moz-range-thumb {
        width: 20px;
        height: 20px;
      }
    }
    
    /* æ¡Œé¢ç‰ˆæ»‘æ¡¿æ¨£å¼ */
    @media (min-width: 992px) {
      #speechSpeedSlider {
        height: 8px;
        border-radius: 5px;
      }
      
      #speechSpeedSlider::-webkit-slider-thumb {
        width: 20px;
        height: 20px;
      }
      
      #speechSpeedSlider::-moz-range-thumb {
        width: 20px;
        height: 20px;
      }
    }
    
    /* è§¸æŽ§è¨­å‚™å„ªåŒ– */
    @media (hover: none) and (pointer: coarse) {
      .btn {
        min-height: 44px;
      }
      
      .form-check-input {
        width: 1.5em;
        height: 1.5em;
      }
      
      #speechSpeedSlider::-webkit-slider-thumb {
        width: 24px;
        height: 24px;
      }
      
      #speechSpeedSlider::-moz-range-thumb {
        width: 24px;
        height: 24px;
      }
    }

block scripts
  script(src="/js/kids-vocabulary.js")
  script.
    // é é¢è¼‰å…¥å‹•ç•«
    document.addEventListener('DOMContentLoaded', function() {
      console.log('ðŸŒŸ Kids Vocabulary Generator loaded');
      
      // ç°¡å–®çš„æ­¡è¿Žå‹•ç•«
      setTimeout(() => {
        const welcome = document.getElementById('welcomeMessage');
        if (welcome) {
          welcome.style.animation = 'pulse 2s infinite';
        }
      }, 1000);
    });